// Check if the cookie 'IAMusername' is set
const usernameCookie = getCookie('IAMusername');
if (usernameCookie) {
    if (document.getElementById('username').value === '') {
        document.getElementById('username').value = usernameCookie;
        // document.getElementById('username').disabled = true;
    }

    //

    if (navigator.userAgent.toLowerCase().indexOf('firefox') > -1) {
        console.log('Firefox');
        window.setTimeout(function () {
            document.getElementById("password").focus();
        }, 30);
    } else {
        document.getElementById("password").focus();
    }
    deleteCookie('IAMusername');
}

function getCookie(a) {
    const b = document.cookie.match('(^|;)\\s*' + a + '\\s*=\\s*([^;]+)');
    return b ? b.pop() : '';
}

function deleteCookie(name) {
    if (window.location.href.includes('auth.education.lu')) {
        document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;SameSite=Strict;domain=auth.education.lu";
    }
    if (window.location.href.includes('authdev.education.lu')) {
        document.cookie = name + "=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;SameSite=Strict;domain=authdev.education.lu";
    }
}
