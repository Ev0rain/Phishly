# Phishly Reverse Proxy Configuration - Development Mode
# Simplified configuration without SSL certificates for local testing

# Internal admin GUI (localhost:8006)
:8006 {
    # Forward to webadmin container
    reverse_proxy phishly-webadmin:8006 {
        # Docker DNS will resolve to the container
        header_up X-Real-IP {remote_host}
    }
}

# HTTP phishing landing pages (port 80) - for local testing
:80 {
    reverse_proxy phishly-phishing:8000 {
        header_up X-Real-IP {remote_host}
        header_up X-Forwarded-For {remote_host}
        header_up X-Forwarded-Proto http
    }
}

# HTTPS phishing landing pages (port 443) - for production with domain
# Note: In production, replace :443 with your domain (e.g., ups-be.com)
:443 {
    reverse_proxy phishly-phishing:8000 {
        header_up X-Real-IP {remote_host}
        header_up X-Forwarded-For {remote_host}
        header_up X-Forwarded-Proto https
    }
}

