"""Initial Models

Revision ID: 999f0b6bef98
Revises: 
Create Date: 2025-12-12 10:13:02.483210

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa


# revision identifiers, used by Alembic.
revision: str = '999f0b6bef98'
down_revision: Union[str, Sequence[str], None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.add_column('admin_users', sa.Column('username', sa.String(length=100), nullable=False))
    op.add_column('admin_users', sa.Column('email', sa.String(length=255), nullable=False))
    op.add_column('admin_users', sa.Column('password_hash', sa.String(length=255), nullable=False))
    op.add_column('admin_users', sa.Column('full_name', sa.String(length=255), nullable=True))
    op.add_column('admin_users', sa.Column('is_active', sa.Boolean(), nullable=False))
    op.add_column('admin_users', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('admin_users', sa.Column('last_login', sa.DateTime(), nullable=True))
    op.create_unique_constraint(None, 'admin_users', ['email'])
    op.create_unique_constraint(None, 'admin_users', ['username'])
    op.drop_index(op.f('campaign_target_lists_campaign_id_target_list_id_idx'), table_name='campaign_target_lists')
    op.create_unique_constraint('campaign_target_lists_campaign_id_target_list_id_key', 'campaign_target_lists', ['campaign_id', 'target_list_id'])
    op.add_column('campaign_targets', sa.Column('status', sa.String(length=50), nullable=False))
    op.add_column('campaign_targets', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.drop_index(op.f('campaign_targets_campaign_id_target_id_idx'), table_name='campaign_targets')
    op.create_unique_constraint('campaign_targets_campaign_id_target_id_key', 'campaign_targets', ['campaign_id', 'target_id'])
    op.drop_constraint(op.f('campaign_targets_email_template_id_fkey'), 'campaign_targets', type_='foreignkey')
    op.drop_constraint(op.f('campaign_targets_landing_page_id_fkey'), 'campaign_targets', type_='foreignkey')
    op.drop_column('campaign_targets', 'landing_page_id')
    op.drop_column('campaign_targets', 'email_template_id')
    op.add_column('campaigns', sa.Column('name', sa.String(length=255), nullable=False))
    op.add_column('campaigns', sa.Column('description', sa.Text(), nullable=True))
    op.add_column('campaigns', sa.Column('status', sa.String(length=50), nullable=False))
    op.add_column('campaigns', sa.Column('max_email_delay', sa.Integer(), nullable=True))
    op.add_column('campaigns', sa.Column('start_date', sa.DateTime(), nullable=True))
    op.add_column('campaigns', sa.Column('end_date', sa.DateTime(), nullable=True))
    op.add_column('campaigns', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('campaigns', sa.Column('updated_at', sa.DateTime(), nullable=True))
    op.add_column('departments', sa.Column('name', sa.String(length=255), nullable=False))
    op.add_column('departments', sa.Column('description', sa.Text(), nullable=True))
    op.add_column('departments', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('email_jobs', sa.Column('status', sa.String(length=50), nullable=False))
    op.add_column('email_jobs', sa.Column('scheduled_at', sa.DateTime(), nullable=True))
    op.add_column('email_jobs', sa.Column('sent_at', sa.DateTime(), nullable=True))
    op.add_column('email_jobs', sa.Column('delay_seconds', sa.Integer(), nullable=True))
    op.add_column('email_jobs', sa.Column('error_message', sa.Text(), nullable=True))
    op.add_column('email_jobs', sa.Column('retry_count', sa.Integer(), nullable=True))
    op.add_column('email_jobs', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('email_templates', sa.Column('name', sa.String(length=255), nullable=False))
    op.add_column('email_templates', sa.Column('subject', sa.String(length=500), nullable=False))
    op.add_column('email_templates', sa.Column('body_html', sa.Text(), nullable=False))
    op.add_column('email_templates', sa.Column('body_text', sa.Text(), nullable=True))
    op.add_column('email_templates', sa.Column('from_name', sa.String(length=255), nullable=True))
    op.add_column('email_templates', sa.Column('from_email', sa.String(length=255), nullable=True))
    op.add_column('email_templates', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('email_templates', sa.Column('updated_at', sa.DateTime(), nullable=True))
    op.add_column('event_types', sa.Column('name', sa.String(length=100), nullable=False))
    op.add_column('event_types', sa.Column('description', sa.Text(), nullable=True))
    op.add_column('event_types', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.create_unique_constraint(None, 'event_types', ['name'])
    op.add_column('events', sa.Column('ip_address', sa.String(length=45), nullable=True))
    op.add_column('events', sa.Column('user_agent', sa.Text(), nullable=True))
    op.add_column('events', sa.Column('browser', sa.String(length=100), nullable=True))
    op.add_column('events', sa.Column('os', sa.String(length=100), nullable=True))
    op.add_column('events', sa.Column('device_type', sa.String(length=50), nullable=True))
    op.add_column('events', sa.Column('location', sa.String(length=255), nullable=True))
    op.add_column('events', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('form_answers', sa.Column('answer_text', sa.Text(), nullable=True))
    op.add_column('form_answers', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('form_questions', sa.Column('question_text', sa.Text(), nullable=False))
    op.add_column('form_questions', sa.Column('question_type', sa.String(length=50), nullable=False))
    op.add_column('form_questions', sa.Column('is_required', sa.Boolean(), nullable=True))
    op.add_column('form_questions', sa.Column('options', sa.Text(), nullable=True))
    op.add_column('form_questions', sa.Column('order', sa.Integer(), nullable=True))
    op.add_column('form_questions', sa.Column('placeholder', sa.String(length=255), nullable=True))
    op.add_column('form_questions', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('form_submissions', sa.Column('submitted_at', sa.DateTime(), nullable=False))
    op.add_column('form_submissions', sa.Column('ip_address', sa.String(length=45), nullable=True))
    op.add_column('form_submissions', sa.Column('user_agent', sa.Text(), nullable=True))
    op.add_column('form_templates', sa.Column('name', sa.String(length=255), nullable=False))
    op.add_column('form_templates', sa.Column('description', sa.Text(), nullable=True))
    op.add_column('form_templates', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('form_templates', sa.Column('updated_at', sa.DateTime(), nullable=True))
    op.add_column('landing_pages', sa.Column('name', sa.String(length=255), nullable=False))
    op.add_column('landing_pages', sa.Column('url_path', sa.String(length=255), nullable=False))
    op.add_column('landing_pages', sa.Column('html_content', sa.Text(), nullable=False))
    op.add_column('landing_pages', sa.Column('css_content', sa.Text(), nullable=True))
    op.add_column('landing_pages', sa.Column('js_content', sa.Text(), nullable=True))
    op.add_column('landing_pages', sa.Column('capture_credentials', sa.Boolean(), nullable=True))
    op.add_column('landing_pages', sa.Column('capture_form_data', sa.Boolean(), nullable=True))
    op.add_column('landing_pages', sa.Column('redirect_url', sa.String(length=500), nullable=True))
    op.add_column('landing_pages', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('landing_pages', sa.Column('updated_at', sa.DateTime(), nullable=True))
    op.create_unique_constraint(None, 'landing_pages', ['url_path'])
    op.drop_index(op.f('target_list_members_target_list_id_target_id_idx'), table_name='target_list_members')
    op.create_unique_constraint('target_list_members_target_list_id_target_id_key', 'target_list_members', ['target_list_id', 'target_id'])
    op.add_column('target_lists', sa.Column('name', sa.String(length=255), nullable=False))
    op.add_column('target_lists', sa.Column('description', sa.Text(), nullable=True))
    op.add_column('target_lists', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.add_column('target_lists', sa.Column('updated_at', sa.DateTime(), nullable=True))
    op.add_column('targets', sa.Column('email', sa.String(length=255), nullable=False))
    op.add_column('targets', sa.Column('first_name', sa.String(length=100), nullable=True))
    op.add_column('targets', sa.Column('last_name', sa.String(length=100), nullable=True))
    op.add_column('targets', sa.Column('position', sa.String(length=255), nullable=True))
    op.add_column('targets', sa.Column('phone', sa.String(length=50), nullable=True))
    op.add_column('targets', sa.Column('created_at', sa.DateTime(), nullable=False))
    op.create_unique_constraint(None, 'targets', ['email'])
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_constraint(None, 'targets', type_='unique')
    op.drop_column('targets', 'created_at')
    op.drop_column('targets', 'phone')
    op.drop_column('targets', 'position')
    op.drop_column('targets', 'last_name')
    op.drop_column('targets', 'first_name')
    op.drop_column('targets', 'email')
    op.drop_column('target_lists', 'updated_at')
    op.drop_column('target_lists', 'created_at')
    op.drop_column('target_lists', 'description')
    op.drop_column('target_lists', 'name')
    op.drop_constraint('target_list_members_target_list_id_target_id_key', 'target_list_members', type_='unique')
    op.create_index(op.f('target_list_members_target_list_id_target_id_idx'), 'target_list_members', ['target_list_id', 'target_id'], unique=True)
    op.drop_constraint(None, 'landing_pages', type_='unique')
    op.drop_column('landing_pages', 'updated_at')
    op.drop_column('landing_pages', 'created_at')
    op.drop_column('landing_pages', 'redirect_url')
    op.drop_column('landing_pages', 'capture_form_data')
    op.drop_column('landing_pages', 'capture_credentials')
    op.drop_column('landing_pages', 'js_content')
    op.drop_column('landing_pages', 'css_content')
    op.drop_column('landing_pages', 'html_content')
    op.drop_column('landing_pages', 'url_path')
    op.drop_column('landing_pages', 'name')
    op.drop_column('form_templates', 'updated_at')
    op.drop_column('form_templates', 'created_at')
    op.drop_column('form_templates', 'description')
    op.drop_column('form_templates', 'name')
    op.drop_column('form_submissions', 'user_agent')
    op.drop_column('form_submissions', 'ip_address')
    op.drop_column('form_submissions', 'submitted_at')
    op.drop_column('form_questions', 'created_at')
    op.drop_column('form_questions', 'placeholder')
    op.drop_column('form_questions', 'order')
    op.drop_column('form_questions', 'options')
    op.drop_column('form_questions', 'is_required')
    op.drop_column('form_questions', 'question_type')
    op.drop_column('form_questions', 'question_text')
    op.drop_column('form_answers', 'created_at')
    op.drop_column('form_answers', 'answer_text')
    op.drop_column('events', 'created_at')
    op.drop_column('events', 'location')
    op.drop_column('events', 'device_type')
    op.drop_column('events', 'os')
    op.drop_column('events', 'browser')
    op.drop_column('events', 'user_agent')
    op.drop_column('events', 'ip_address')
    op.drop_constraint(None, 'event_types', type_='unique')
    op.drop_column('event_types', 'created_at')
    op.drop_column('event_types', 'description')
    op.drop_column('event_types', 'name')
    op.drop_column('email_templates', 'updated_at')
    op.drop_column('email_templates', 'created_at')
    op.drop_column('email_templates', 'from_email')
    op.drop_column('email_templates', 'from_name')
    op.drop_column('email_templates', 'body_text')
    op.drop_column('email_templates', 'body_html')
    op.drop_column('email_templates', 'subject')
    op.drop_column('email_templates', 'name')
    op.drop_column('email_jobs', 'created_at')
    op.drop_column('email_jobs', 'retry_count')
    op.drop_column('email_jobs', 'error_message')
    op.drop_column('email_jobs', 'delay_seconds')
    op.drop_column('email_jobs', 'sent_at')
    op.drop_column('email_jobs', 'scheduled_at')
    op.drop_column('email_jobs', 'status')
    op.drop_column('departments', 'created_at')
    op.drop_column('departments', 'description')
    op.drop_column('departments', 'name')
    op.drop_column('campaigns', 'updated_at')
    op.drop_column('campaigns', 'created_at')
    op.drop_column('campaigns', 'end_date')
    op.drop_column('campaigns', 'start_date')
    op.drop_column('campaigns', 'max_email_delay')
    op.drop_column('campaigns', 'status')
    op.drop_column('campaigns', 'description')
    op.drop_column('campaigns', 'name')
    op.add_column('campaign_targets', sa.Column('email_template_id', sa.BIGINT(), autoincrement=False, nullable=True))
    op.add_column('campaign_targets', sa.Column('landing_page_id', sa.BIGINT(), autoincrement=False, nullable=True))
    op.create_foreign_key(op.f('campaign_targets_landing_page_id_fkey'), 'campaign_targets', 'landing_pages', ['landing_page_id'], ['id'])
    op.create_foreign_key(op.f('campaign_targets_email_template_id_fkey'), 'campaign_targets', 'email_templates', ['email_template_id'], ['id'])
    op.drop_constraint('campaign_targets_campaign_id_target_id_key', 'campaign_targets', type_='unique')
    op.create_index(op.f('campaign_targets_campaign_id_target_id_idx'), 'campaign_targets', ['campaign_id', 'target_id'], unique=True)
    op.drop_column('campaign_targets', 'created_at')
    op.drop_column('campaign_targets', 'status')
    op.drop_constraint('campaign_target_lists_campaign_id_target_list_id_key', 'campaign_target_lists', type_='unique')
    op.create_index(op.f('campaign_target_lists_campaign_id_target_list_id_idx'), 'campaign_target_lists', ['campaign_id', 'target_list_id'], unique=True)
    op.drop_constraint(None, 'admin_users', type_='unique')
    op.drop_constraint(None, 'admin_users', type_='unique')
    op.drop_column('admin_users', 'last_login')
    op.drop_column('admin_users', 'created_at')
    op.drop_column('admin_users', 'is_active')
    op.drop_column('admin_users', 'full_name')
    op.drop_column('admin_users', 'password_hash')
    op.drop_column('admin_users', 'email')
    op.drop_column('admin_users', 'username')
    # ### end Alembic commands ###
